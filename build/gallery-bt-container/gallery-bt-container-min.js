YUI.add("gallery-bt-container",function(d){var a="heightChange",b="widthChange",c=function(f,e){if(this.get("scrollView")){this.get(e?"srcNode":"scrollNode").insert(this.get(f?"headerNode":"footerNode"),f?0:undefined);this._syncScrollHeight();}};d.namespace("Bottle").Container=d.Base.create("btcontainer",d.Widget,[d.WidgetChild,d.zui.Attribute],{initializer:function(e){this._btcEventHandlers=new d.EventHandle([this.after(a,this._syncScrollHeight),this.on(b,this._syncScrollWidth)]);},destructor:function(){this._btcEventHandlers.detach();if(this.get("rendered")){this.get("scrollView").destroy(true);}delete this._eventHandlers;},renderUI:function(){var i=d.Node.create('<div class="bt-container-scroll"></div>'),j=this.get("srcNode"),g=this.get("headerNode"),h=this.get("bodyNode"),e=this.get("footerNode"),f=new d.ScrollView(d.merge(this.get("cfgScroll"),{srcNode:i})).plug(d.zui.RAScroll,{horizontal:false,cooperation:true});this.set("scrollNode",i);this.set("scrollView",f);j.append(i);i.append(g);i.append(h);i.append(e);f.render();this.set_again("headerFixed");this.set_again("footerFixed");this.set_again("translate3D");},_syncScrollWidth:function(f){var e=this.get("scrollView");if(e){e.set("width",f.newVal);}},_syncScrollHeight:function(){var f=this.get("height"),e=this.get("scrollView");if(!e||!f){return;}f-=e.get("boundingBox").get("offsetTop");if(this.get("footerFixed")){f-=this.get("footerNode").get("clientHeight");}e.set("height",f);}},{ATTRS:{headerNode:{value:undefined,writeOnce:true,setter:function(e){var f=d.one(e);if(f){f.addClass("bt-header");this.set("headerFixed",f.getData("position")==="fixed");return f;}}},footerNode:{value:undefined,writeOnce:true,setter:function(e){var f=d.one(e);if(f){f.addClass("bt-footer");this.set("footerFixed",f.getData("position")==="fixed");return f;}}},bodyNode:{writeOnce:true},scrollNode:{writeOnce:true},scrollView:{writeOnce:true},cfgScroll:{value:{flick:{minDistance:10,minVelocity:0.3}},writeOnce:true,lazyAdd:false},translate3D:{value:true,validator:d.Lang.isBoolean,setter:function(e){this.get("scrollNode").toggleClass("bt-translate3d",e);return e;}},headerFixed:{value:false,validator:d.Lang.isBoolean,setter:function(e){c.apply(this,[true,e]);return e;}},footerFixed:{value:false,validator:d.Lang.isBoolean,setter:function(e){c.apply(this,[false,e]);return e;}}},HTML_PARSER:{headerNode:"> [data-role=header]",bodyNode:"> [data-role=body]",footerNode:"> [data-role=footer]",cfgScroll:function(g){try{return d.JSON.parse(g.getData("cfg-scroll"));}catch(f){}},translate3D:function(e){if(e.getData("translate3d")==="false"){return false;}return true;}}});},"@VERSION@",{requires:["scrollview","widget-child","json-parse","gallery-zui-attribute","gallery-zui-rascroll"]});